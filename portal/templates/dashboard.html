{% extends "base.html" %}
{% block content %}
<div class="responsive-container mt-8 mb-12">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Job Opportunities</h1>
        <p class="text-gray-600">Explore internships and job openings</p>
    </div>

    {% if vacancies %}
        <div class="card-grid">
            {% for vacancy in vacancies %}
            <div class="responsive-card">
                <!-- Header -->
                <div class="mb-4">
                    <div class="flex items-start justify-between mb-2">
                        <h3 class="text-xl font-bold text-gray-900">{{ vacancy.role }}</h3>
                        <span class="inline-block px-3 py-1 text-xs font-semibold rounded-full {% if vacancy.type == 'internship' %}bg-blue-100 text-blue-800{% else %}bg-green-100 text-green-800{% endif %}">
                            {{ vacancy.type|upper }}
                        </span>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">
                        <i class="fas fa-building mr-2"></i>{{ vacancy.company_name }}
                    </p>
                </div>

                <!-- Package -->
                <div class="mb-4 p-3 bg-gray-50 rounded-lg">
                    <p class="text-sm text-gray-600">Package</p>
                    <p class="text-lg font-bold text-green-600">{{ vacancy.package }}</p>
                </div>

                <!-- Description -->
                <div class="mb-4">
                    <p class="text-gray-700 text-sm leading-relaxed line-clamp-3">
                        {{ vacancy.job_description }}
                    </p>
                </div>

                <!-- Action Buttons -->
                <div class="btn-group mt-6">
                    <a href="#" class="btn btn-info w-full inline-block text-center bg-blue-600 text-white hover:bg-blue-700 rounded-lg">
                        <i class="fas fa-info-circle mr-2"></i>Learn More
                    </a>
                    {% if vacancy.type == "internship" %}
                    <a href="{% url 'intern_apply_form' %}" class="btn btn-success w-full inline-block text-center bg-green-600 text-white hover:bg-green-700 rounded-lg">
                        <i class="fas fa-paper-plane mr-2"></i>Apply Now
                    </a>
                    {% else %}
                    <a href="{% url 'job_apply_form' %}" class="btn btn-success w-full inline-block text-center bg-green-600 text-white hover:bg-green-700 rounded-lg">
                        <i class="fas fa-paper-plane mr-2"></i>Apply Now
                    </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg">
            <div class="flex items-center">
                <i class="fas fa-info-circle text-yellow-600 text-2xl mr-4"></i>
                <div>
                    <h3 class="font-bold text-yellow-800">No Opportunities Available</h3>
                    <p class="text-yellow-700 text-sm">Check back soon for new job and internship openings!</p>
                </div>
            </div>
        </div>
    {% endif %}
</div>

<style>
.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

@media (max-width: 640px) {
    .responsive-card {
        padding: 12px;
    }
    
    .btn-group {
        flex-direction: column;
        gap: 10px;
    }
}
</style>

{% endblock %}
